<?xml version="1.0"?>
<!DOCTYPE import-control PUBLIC
    "-//Checkstyle//DTD ImportControl Configuration 1.4//EN"
    "https://checkstyle.org/dtds/import_control_1_4.dtd">

<import-control pkg="com.osrs.goals">
    <!-- Allow all external dependencies -->
    <allow pkg="com.google"/>
    <allow pkg="lombok"/>
    <allow pkg="org"/>
    <allow pkg="javax"/>
    <allow pkg="java"/>
    <allow pkg="com.amazonaws"/>
    <allow pkg="software.amazon"/>
    <allow pkg="com.fasterxml"/>
    <allow pkg="com.osrsGoalTracker"/>
    <allow pkg="com.osrshiscores"/>

    <!-- Allow all layers to use utils -->
    <allow pkg="com.osrs.goals.utils"/>

    <!-- Modules can access everything -->
    <subpackage name="modules">
        <allow pkg="com.osrs.goals"/>
    </subpackage>

    <!-- Service Layer -->
    <subpackage name="service">
        <allow pkg="com.osrs.goals.service"/>
        <allow pkg="com.osrs.goals.domainlogic"/>
        <allow pkg="com.osrs.goals.modules"/>
        <allow pkg="com.osrs.goals.data.pojo"/>
        <disallow pkg="com.osrs.goals.data"/>
        <disallow pkg="com.osrs.goals.persistence"/>
        <disallow pkg="com.osrs.goals.dependency"/>
    </subpackage>

    <!-- Domain Logic Layer -->
    <subpackage name="domainlogic">
        <allow pkg="com.osrs.goals.domainlogic"/>
        <allow pkg="com.osrs.goals.data"/>
        <allow pkg="com.osrs.goals.service.pojo"/>
        <disallow pkg="com.osrs.goals.service"/>
        <disallow pkg="com.osrs.goals.persistence"/>
        <disallow pkg="com.osrs.goals.dependency"/>
    </subpackage>

    <!-- Data Layer -->
    <subpackage name="data">
        <allow pkg="com.osrs.goals.data"/>
        <allow pkg="com.osrs.goals.persistence"/>
        <allow pkg="com.osrs.goals.dependency"/>
        <disallow pkg="com.osrs.goals.service"/>
        <disallow pkg="com.osrs.goals.domainlogic"/>
    </subpackage>

    <!-- Persistence Layer -->
    <subpackage name="persistence">
        <allow pkg="com.osrs.goals.persistence"/>
        <disallow pkg="com.osrs.goals.service"/>
        <disallow pkg="com.osrs.goals.domainlogic"/>
        <disallow pkg="com.osrs.goals.data"/>
        <disallow pkg="com.osrs.goals.dependency"/>
    </subpackage>

    <!-- Dependency Layer -->
    <subpackage name="dependency">
        <allow pkg="com.osrs.goals.dependency"/>
        <disallow pkg="com.osrs.goals.service"/>
        <disallow pkg="com.osrs.goals.domainlogic"/>
        <disallow pkg="com.osrs.goals.data"/>
        <disallow pkg="com.osrs.goals.persistence"/>
    </subpackage>
</import-control> 